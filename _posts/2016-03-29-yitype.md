---
layout: post
title:  基本类型与引用类型
date:   2016-03-29
tags: JavaScript
image: /static/images/post/essay-14.jpg
desc: ECMAScript 变量可能包含两种不同的数据类型的值，基本类型与引用类型。基本类型的值指的是简单的数据段，而引用类型的值指那些可能由多个值构成的对象。
---

ECMAScript 变量可能包含两种不同的数据类型的值，基本类型与引用类型。基本类型的值指的是简单的数据段，而引用类型的值指那些可能由多个值构成的对象。  

在将一个值赋值给变量时，解析器必须确定这个值是基本类型还是引用类型。其中`Undefined` `Null` `Boolean` `Number` `String` 是基本数据类型，他们按值访问。  

```js
var a = 2;
var b = a;
b = 3;
// a 2   b 3
```

上面例子中，当b值改变时，并不影响a的值，这就是按值访问。  

引用类型的值是保存在堆内存中的对象。JavaScript不允许直接访问堆内存中的位置，也就是说不能直接操作对象的内存空间。在操作对象时，实际上操作的是对象的引用而不是实际的对象。因此，引用类型的值是按引用访问的。  

```js
var a = { x: 1 };
var b = a;
b.x = 3;
// a {x:3} 
// b {x:3}
```

b的改变，导致了a和b同时改变，这是因为a与b仅仅知识指向`{x: 1}`对象的引用，他们指向同一个对象，因此当b改变时，a也会改变。

同样的道理，当引用类型作为参数传递给函数时，也会被函数内部的变动改变。  
ECMAScript中所有的函数的参数都是按值传递的。也就是说，把函数外部的值复制给函数内部的参数，就和上面的复制是一模一样的。  

```js
function se(obj) {
    obj.x = 3;
}
var a = { x: 1 };
se(a);
// a值在函数中被改变， 为 {x:3}
```





















